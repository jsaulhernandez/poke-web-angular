"use strict";(self.webpackChunkpoke_web_angular=self.webpackChunkpoke_web_angular||[]).push([[329],{8329:(R,x,a)=>{a.r(x),a.d(x,{AdminModule:()=>H});var d=a(6895),r=a(7518),t=a(4650),m=a(1831),u=a(6766),C=a(9339),y=a(5123),f=a(2230),U=a(4036);let E=(()=>{class e{getElement(){return this.pokeData.types.length>0?this.pokeData.types[0].type.name:"unknown"}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-selected-pokemon"]],inputs:{pokeData:"pokeData"},decls:5,vars:6,consts:[[1,"selected-pokemon","d-flex","flex-wrap","p-4"],[1,"col-12","col-md-5"],[3,"pokeData","heightImage"],[1,"col-12","col-md-7","mt-3","mt-lg-0"],["fontFamily","MEDIUM",3,"option","pokeData","includeShadow","element"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-poke-media",2),t.qZA(),t.TgZ(3,"div",3),t._UZ(4,"app-poke-media",4),t.qZA()()),2&o&&(t.xp6(2),t.Q6J("pokeData",n.pokeData)("heightImage",150),t.xp6(2),t.Q6J("option","STATS")("pokeData",n.pokeData)("includeShadow",!0)("element",n.getElement()))},dependencies:[U.V],styles:[".selected-pokemon[_ngcontent-%COMP%]{border-radius:10px;background-color:#f2f2f2}[_nghost-%COMP%]     mat-progress-bar{height:12px;border-radius:10px}[_nghost-%COMP%]     mat-progress-bar .mdc-linear-progress__bar-inner{border-top-width:12px}"]})}return e})();function A(e,k){1&e&&t._UZ(0,"app-selected-pokemon",17),2&e&&t.Q6J("pokeData",k.$implicit)}const Z=function(){return["1.8em","1.8em","1.8em"]};let S=(()=>{class e{constructor(i,o){this.router=i,this.store=o,this.selectedPokemons=[]}ngOnInit(){this.subscriber=this.store.select("poke").subscribe(({pokemons:i,user:o})=>{this.userData=o,this.selectedPokemons=i})}ngOnDestroy(){this.subscriber.unsubscribe()}onNavigation(i="EDIT_PROFILE"){this.router.navigate("EDIT_PROFILE"===i?["/poke/admin/edit"]:["/poke/admin/edit-selected"])}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.F0),t.Y36(m.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-user-profile"]],decls:19,vars:14,consts:[[1,"user-profile","d-flex","flex-column","py-2","py-md-5"],[1,"row","mt-5"],[1,"col-0","col-lg-1","d-none","d-lg-block"],[1,"col-12","col-lg-11","d-flex","flex-wrap","gap-4"],["fontFamily","BOLD","textColor","BLACK",3,"text","fontSizeBreakPoints"],[3,"icon","content","typeButton","click"],[1,"row","mt-5","ms-0"],[1,"col-12","col-md-5","col-lg-4","col-xl-3"],[3,"userData","option"],[1,"col-0","col-md-0","col-lg-1","d-none","d-lg-block"],[1,"col-12","col-md-7","col-lg-6","col-xl-7","mt-4","mt-md-0"],[1,"d-flex","flex-wrap","justify-content-between","gap-4"],["text","My Pokemons","fontFamily","MEDIUM",3,"fontSizeBreakPoints"],["itemSize","1",1,"mt-3",2,"min-height","255px","height","85%"],[1,"d-flex","flex-column","gap-4","w-100"],[3,"pokeData",4,"cdkVirtualFor","cdkVirtualForOf"],[1,"col-0","col-lg-1","d-none","d-lg-block","d-xl-none"],[3,"pokeData"]],template:function(o,n){if(1&o&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t._UZ(4,"app-poke-text",4),t.TgZ(5,"app-poke-button",5),t.NdJ("click",function(){return n.onNavigation()}),t.qZA()(),t.TgZ(6,"div",6),t._UZ(7,"div",2),t.TgZ(8,"div",7),t._UZ(9,"app-user-card",8),t.qZA(),t._UZ(10,"div",9),t.TgZ(11,"div",10)(12,"div",11),t._UZ(13,"app-poke-text",12),t.TgZ(14,"app-poke-button",5),t.NdJ("click",function(){return n.onNavigation("EDIT_SELECTED")}),t.qZA()(),t.TgZ(15,"cdk-virtual-scroll-viewport",13)(16,"div",14),t.YNc(17,A,1,1,"app-selected-pokemon",15),t.qZA()()(),t._UZ(18,"div",16),t.qZA()()()),2&o){let s;t.xp6(4),t.Q6J("text","Hi! "+(null!=n.userData&&n.userData.name&&null!==(s=null==n.userData?null:n.userData.name)&&void 0!==s?s:"-"))("fontSizeBreakPoints",t.DdM(12,Z)),t.xp6(1),t.Q6J("icon","edit")("content","Edit profile")("typeButton","OUTLINE"),t.xp6(4),t.Q6J("userData",n.userData)("option","SHOW"),t.xp6(4),t.Q6J("fontSizeBreakPoints",t.DdM(13,Z)),t.xp6(1),t.Q6J("icon","edit")("content","Edit")("typeButton","OUTLINE"),t.xp6(3),t.Q6J("cdkVirtualForOf",n.selectedPokemons)}},dependencies:[u.o,C.d,y.r,f.xd,f.x0,f.N7,E]})}return e})();var D=a(91),B=a(3247),_=a(7392);const P=function(){return["1.8em","1.8em","1.8em"]};let N=(()=>{class e{constructor(i,o){this.router=i,this.store=o,this.subscriber=this.store.select("poke").subscribe(({user:n})=>{this.userData=n,this.resource=n.resource})}onNext(i){const o={...i,resource:this.resource};this.store.dispatch((0,D.Al)({data:o})),this.onNavigation()}onNavigation(){this.router.navigate(["/poke/admin/profile"])}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.F0),t.Y36(m.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-profile"]],decls:17,vars:7,consts:[[1,"profile-config","d-flex","flex-column","py-2","py-md-5"],[1,"d-flex","gap-2"],["color","primary",1,"mt-2","pointer",3,"click"],[1,"d-flex","flex-column"],["text","Edit profile","fontFamily","BOLD",3,"fontSizeBreakPoints"],[1,"row","pt-5"],[1,"col-0","col-lg-1","col-xl-2","d-none","d-lg-block"],[1,"col-12","col-md-5","col-lg-4","col-xl-3"],[3,"userData","file"],[1,"col-0","col-md-2","d-none","d-md-block"],[1,"col-12","col-md-5","col-lg-4","col-xl-3","mt-4","mt-md-0"],["text","Your information","fontFamily","MEDIUM",3,"fontSizeBreakPoints"],["text","Update the following information if<br/> necessary","textColor","GRAY"],[1,"mt-4"],[3,"buttonContent","userData","outputData"]],template:function(o,n){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"mat-icon",2),t.NdJ("click",function(){return n.onNavigation()}),t._uU(3,"keyboard_arrow_left"),t.qZA(),t.TgZ(4,"div",3),t._UZ(5,"app-poke-text",4),t.qZA()(),t.TgZ(6,"div",5),t._UZ(7,"div",6),t.TgZ(8,"div",7)(9,"app-user-card",8),t.NdJ("file",function(l){return n.resource=l}),t.qZA()(),t._UZ(10,"div",9),t.TgZ(11,"div",10),t._UZ(12,"app-poke-text",11)(13,"app-poke-text",12),t.TgZ(14,"div",13)(15,"app-sign-in-form",14),t.NdJ("outputData",function(l){return n.onNext(l)}),t.qZA()()(),t._UZ(16,"div",6),t.qZA()()),2&o&&(t.xp6(5),t.Q6J("fontSizeBreakPoints",t.DdM(5,P)),t.xp6(4),t.Q6J("userData",n.userData),t.xp6(3),t.Q6J("fontSizeBreakPoints",t.DdM(6,P)),t.xp6(3),t.Q6J("buttonContent","Update")("userData",n.userData))},dependencies:[B.N,u.o,y.r,_.Hw]})}return e})();var g=a(5861),h=a(9808),T=a(7421);let J=(()=>{class e{constructor(){this.api$=(0,t.f3M)(T.s)}getDataPokemonByUrl(i){var o=this;return(0,g.Z)(function*(){const n=i.map(function(){var s=(0,g.Z)(function*(l){const G=o.api$.getDataPokemonByUrl(l.url);let p=(yield(0,h.n)(G))??{};const V=o.api$.getDataPokemonByUrl(p.species.url);let c=(yield(0,h.n)(V))??{};return c={...c,flavor_text_entries:c.flavor_text_entries.filter(v=>"en"===v.language.name),pokedex_numbers:c.pokedex_numbers.filter(v=>"national"===v.pokedex.name)},p={...p,data_species:c},p});return function(l){return s.apply(this,arguments)}}());return yield Promise.all(n)})()}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var M=a(7087),b=a(1342),F=a(803);function I(e,k){1&e&&(t.TgZ(0,"div",2),t._UZ(1,"app-poke-loader",3),t.qZA())}const w=function(){return["1.8em","1.8em","1.8em"]},L=function(){return["100%","30%","30%"]};function O(e,k){if(1&e){const i=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"mat-icon",6),t.NdJ("click",function(){t.CHM(i);const n=t.oxw();return t.KtG(n.onNavigation())}),t._uU(3,"keyboard_arrow_left"),t.qZA(),t.TgZ(4,"div",7),t._UZ(5,"app-poke-text",8),t.qZA()(),t.TgZ(6,"app-pokemons-selection",9),t.NdJ("outputData",function(n){t.CHM(i);const s=t.oxw();return t.KtG(s.onNext(n))}),t.qZA()()}if(2&e){const i=t.oxw();t.xp6(5),t.Q6J("fontSizeBreakPoints",t.DdM(6,w)),t.xp6(1),t.Q6J("customClass","col-6 col-sm-4 col-md-3 col-lg-2")("showItems",6)("buttonContent","Update selection")("pokemonsList",i.mainList)("widthBreakPoints",t.DdM(7,L))}}const Q=[{path:"admin/profile",component:S},{path:"admin/edit",component:N},{path:"admin/edit-selected",component:(()=>{class e{constructor(i,o,n){this.router=i,this.loader$=o,this.store=n,this.api$=(0,t.f3M)(T.s),this.common$=(0,t.f3M)(J),this.isLoading=this.loader$.loading$,this.mainList=[]}ngOnInit(){this.getAllPokemons()}getAllPokemons(i=50,o=0){var n=this;return(0,g.Z)(function*(){n.loader$.show();try{const s=n.api$.request({method:"GET",path:"pokemon",params:{limit:`${i}`,offset:`${o}`}}),l=(yield(0,h.n)(s)).results??[];n.mainList=yield n.common$.getDataPokemonByUrl(l),n.loader$.hide()}catch(s){console.error("[Error]",s),n.loader$.hide()}})()}onNext(i){3===i.length?(this.store.dispatch((0,D.AS)({pokemons:i})),this.onNavigation()):console.warn("[Empty]","Select pokemons")}onNavigation(){this.router.navigate(["/poke/admin/profile"])}static#t=this.\u0275fac=function(o){return new(o||e)(t.Y36(r.F0),t.Y36(M.D),t.Y36(m.yh))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-selected-pokemons"]],decls:4,vars:6,consts:[["class","row",4,"ngIf"],["class","profile-config d-flex flex-column py-2 py-md-5",4,"ngIf"],[1,"row"],[1,"position-absolute","top-50","start-50","translate-middle"],[1,"profile-config","d-flex","flex-column","py-2","py-md-5"],[1,"d-flex","gap-2"],["color","primary",1,"mt-2","pointer",3,"click"],[1,"d-flex","flex-column"],["text","Edit selection","fontFamily","BOLD",3,"fontSizeBreakPoints"],[1,"pt-5",3,"customClass","showItems","buttonContent","pokemonsList","widthBreakPoints","outputData"]],template:function(o,n){1&o&&(t.YNc(0,I,2,0,"div",0),t.ALo(1,"async"),t.YNc(2,O,7,8,"div",1),t.ALo(3,"async")),2&o&&(t.Q6J("ngIf",t.lcZ(1,2,n.isLoading)),t.xp6(2),t.Q6J("ngIf",!t.lcZ(3,4,n.isLoading)))},dependencies:[d.O5,b.A,u.o,F.A,_.Hw,d.Ov]})}return e})()}];let $=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[r.Bz.forChild(Q),r.Bz]})}return e})();var z=a(222),Y=a(9694);let H=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.oAB({type:e});static#o=this.\u0275inj=t.cJS({imports:[d.ez,$,z.AuthModule,Y.m]})}return e})()}}]);